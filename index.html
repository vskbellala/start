<!DOCTYPE html>
<html lang="EN">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>~</title>
<link rel="apple-touch-icon" sizes="180x180" href="//bellala.org/favicons/apple-touch-icon.png?v=PYAnWEX75A">
<link rel="icon" type="image/png" sizes="32x32" href="//bellala.org/favicons/favicon-32x32.png?v=PYAnWEX75A">
<link rel="icon" type="image/png" sizes="16x16" href="//bellala.org/favicons/favicon-16x16.png?v=PYAnWEX75A">
<link rel="manifest" href="//bellala.org/favicons/site.webmanifest?v=PYAnWEX75A">
<link rel="mask-icon" href="//bellala.org/favicons/safari-pinned-tab.svg?v=PYAnWEX75A" color="#8fbcbb">
<link rel="shortcut icon" href="//bellala.org/favicons/favicon.ico?v=PYAnWEX75A">
<meta name="apple-mobile-web-app-title" content="~">
<meta name="application-name" content="~">
<meta name="msapplication-TileColor" content="#8fbcbb">
<meta name="msapplication-config" content="//bellala.org/favicons/browserconfig.xml?v=PYAnWEX75A">
<meta name="theme-color" content="#ffffff">
<style>
    :root {
        /* Colors - Nord */
        --white: #FFF;
        --nord0: #2e3440;
        --nord1: #3b4252;
        --nord2: #434c5e;
        --nord3: #4c566a;
        --nord4: #d8dee9;
        --nord5: #e5e9f0;
        --nord6: #eceff4;
        --nord7: #8fbcbb;
        --nord8: #88c0d0;
        --nord9: #81a1c1;
        --nord10: #5e81ac;
        --nord11: #bf616a;
        --nord12: #d08770;
        --nord13: #ebcb8b;
        --nord14: #a3be8c;
        --nord15: #b48ead;

        /* defaults */
        --color-bg: var(--white);
        --color-link: var(--nord15);
        --color-txt: var(--nord0);
        /*--color-txt-accent: var(--nord15);*/
        --color-accent: var(--nord10);
        /*--color-opa: rgba(216, 222, 233,0.6);*/
        /*--image:  url(banner.webp);*/
    }

    *{
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        /*border: 2px solid #FFF;*/
    }
    html {
        align-items: center;
        background-color: var(--color-bg);
        color: var(--color-txt);
        display: flex;
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;
        line-height: 1.4;
        font-size: 1.3rem;
        height: 100%;
        justify-content: center;
        text-align: left;
    }
    body{
        display: grid;
        grid-template-columns: 1fr 4fr;
        width: 50rem;
        margin: 1rem;
        /*max-height: 30rem; */
        grid-column-gap: 2rem;
        justify-items: center;
        align-items: center;
    }
    .banner{
        grid-column-start: 1;
        width: 100%;
        height: 100%;
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center center;
        /*background-image: var(--image);*/
    }
    .container{
        grid-column-start: 2;
        width: 100%;
    }
    #search{
        /*text-align: left;*/
        justify-content: initial;
        font-family: monospace;
        font-size:0.75rem;
    }
    a {
        color: inherit;
        text-decoration: none;
        outline: none;
    }
    a:focus,
    a:hover {
        color: var(--color-link);
    }
    h1{
        font-size: 3.5rem;
    }
    nav{
        display: flex;
        justify-content: space-around;
    }
    #quote{
        quotes: '"' '"';
        font-size: 1rem;
    }
    form{
        width: 100%;
    }
    form input[type="search"] {
      background-color: transparent;
      border: none;
      font: inherit;
      color: inherit;
      text-align: left;
      width: 100%;
      outline: none;
      caret-color: var(--color-accent);
    }
    ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
        color: var(--color-txt);
        opacity: 1;  /*Firefox */
    }
    blockquote{
        padding: 0.75rem;
        padding-right: 0;
        margin-left: 4px;
        position: relative;
    }

    blockquote::before, div.info > span::before{
        content: '';
        height: 100%;
        background: var(--color-txt);
        width: 4px;
        position: absolute;
        border-radius: 2px;
        top: 0;
        left: -4px;
    }
    #author{
        color: var(--color-accent);
    }
    #author::before{
        content: "â€”";
        margin-right: 0.5rem;
        margin-left: 1.25rem;
    }

    .container > div{
        padding: 0.5rem 0;
    }
    div.info{
        display: flex;
        justify-content: space-between;
    }
    div.info > span{
        /*border-left: 2px solid var(--color-txt);*/
        /*border-right: 2px solid var(--color-txt);*/
        /*padding-left: 4px;*/
        position: relative;
        margin: 0 0.5rem;
        margin-left:  calc(0.5rem + 4px);
    }
    @media only screen and (max-width: 768px){
        html,body{
            height: initial;
            width:  initial;
        }
        div.info > span,#search{
            display:  none;
        }
        body,div.info{
            display: flex;
            flex-direction: column;
        }
        div.banner{
            height: 20vh;
        }
    }
</style>
<script type="text/javascript">
function updateClock(tzone) {
    var now = new Date(); // current date
    document.getElementById('date').innerHTML = now.toLocaleString('en-US', {
        timeZone: tzone,
        dateStyle: 'full'
    });
    document.getElementById('time').innerHTML = now.toLocaleString('en-US', {
        timeZone: tzone,
        timeStyle: 'short',
        hour12: false
    });
    setTimeout(updateClock, 1000,tzone);
}
const config = fetch('/start/config.json', {
        method: 'GET'
    })
    .then(function(response) {
        return response.json();
    })
    .then(function(json) {
        // Get the root element
        banner = document.getElementById('banner');
        banner.style.backgroundImage = "url(" + json.image + ")";
        links = json.links;
        for (let i = 0; i < links.length; i++) {
            document.getElementById('nav').innerHTML += "<a href=" + links[i][1] + ">" + links[i][0] + "</a>"
        }
        let tzone = json.tzone; //Eastern Time
        let wzone = json.wzone; //Providence
        let wurl = 'https://api.weather.gov/gridpoints/BOX/' + wzone + '/forecast';
        return [tzone, wurl];
    });
config.then(r => {
    fetch(r[1], {
            method: 'GET'
        })
        .then(function(response) {
            return response.json();
        })
        .then(function(json) {
            now = json.properties.periods[0];
            document.getElementById('temp').innerHTML = now.temperature + '&#176;';
            document.getElementById('cond').innerHTML = now.shortForecast;
            wsp = now.windSpeed;
            document.getElementById('wind').innerHTML = now.windDirection + " " + wsp.toUpperCase();
        });
    fetch('https://api.quotable.io/random', {
            method: 'GET'
        })
        .then(function(response) {
            return response.json();
        })
        .then(function(json) {
            quote = json.content;
            author = json.author;
            document.getElementById('quote').innerHTML = quote;
            document.getElementById('author').innerHTML = author;
            updateClock(r[0]);
        });
});
</script>
</head>

<body>
<div class='banner' id="banner"></div>
<div class='container'>
    <div>
        <div id='search'>
            <form action="https://duckduckgo.com/" method="POST">
                <input id="q" name="q" type="search" placeholder="bellala.org/start">
            </form>
        </div>
        <h1 id='time'></h1>
        <div class='info'><p id='date'></p><span></span><p id='temp'></p><span></span><p id='cond'></p><span></span><p id='wind'></p></div>
    </div>
    <div>
        <blockquote cite="https://quotable.io"><q id='quote'></q>
            <p><small id='author'></small></p>
        </blockquote>
    </div>
    <div>
        <nav id="nav"></nav>
    </div>
</div>
</body>

</html>